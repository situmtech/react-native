import { NativeModules } from "react-native";

import SitumPlugin from "..";

describe("Test POIs functions", () => {
  it("should fetch all poi categories", () => {
    const success = () => {};
    const error = () => {};

    SitumPlugin.fetchPoiCategories(success, error);

    expect(
      NativeModules.RNCSitumPlugin.fetchPoiCategories.mock.calls.length
    ).toEqual(1);

    expect(
      NativeModules.RNCSitumPlugin.fetchPoiCategories.mock.calls[0][0]
    ).toBe(success);

    expect(
      NativeModules.RNCSitumPlugin.fetchPoiCategories.mock.calls[0][1]
    ).toBe(error);
  });

  it("should fetch selected icon for passed poi category", () => {
    const category = expect.any(Object);
    const success = () => {};
    const error = () => {};

    SitumPlugin.fetchPoiCategoryIconSelected(category, success, error);

    expect(
      NativeModules.RNCSitumPlugin.fetchPoiCategoryIconSelected.mock.calls
        .length
    ).toEqual(1);

    expect(
      NativeModules.RNCSitumPlugin.fetchPoiCategoryIconSelected.mock.calls[0][0]
    ).toBe(category);

    expect(
      NativeModules.RNCSitumPlugin.fetchPoiCategoryIconSelected.mock.calls[0][1]
    ).toBe(success);

    expect(
      NativeModules.RNCSitumPlugin.fetchPoiCategoryIconSelected.mock.calls[0][2]
    ).toBe(error);
  });
});
